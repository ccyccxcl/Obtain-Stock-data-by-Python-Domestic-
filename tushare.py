#获取个股历史交易数据（包括均线数据）：
import pandas as pd
import tushare as ts
d=ts.get_hist_data('601318',start='2018-01-01',end='2018-07-07') #一次性获取全部数据
#结果显示：日期 ，开盘价， 最高价， 收盘价， 最低价， 成交量， 价格变动 ，涨跌幅，5日均价，10日均价，20日均价，5日均量，10日均量，20日均量，换手率
             open   high  close    low      volume  price_change  p_change  \
date                                                                         
2018-07-06  55.98  57.65  56.94  55.54   824311.19          1.41      2.54   
2018-07-05  55.70  56.27  55.52  55.18   548434.31          0.00      0.00   
2018-07-04  56.23  56.88  55.55  55.37   519493.69         -0.79     -1.40   
2018-07-03  55.60  56.56  56.31  54.33   949167.00          1.09      1.97   
2018-07-02  58.28  58.28  55.19  54.65   900189.19         -3.39     -5.79   
2018-06-29  57.12  58.63  58.57  57.10   645112.06          1.74      3.06   
2018-06-28  57.11  57.95  56.80  56.53   735991.25         -0.70     -1.22   
2018-06-27  59.10  59.45  57.49  57.44   697084.12         -1.75     -2.95   
2018-06-26  59.10  59.61  59.21  57.80   717927.62         -0.58     -0.97   
2018-06-25  61.28  61.35  59.84  59.60   607496.75         -1.23     -2.01   
2018-06-22  60.60  61.50  61.06  60.60   465376.38         -0.03     -0.05   
2018-06-21  61.86  62.56  61.12  61.00   605493.94         -0.73     -1.18   
2018-06-20  61.90  62.54  61.85  60.78   743195.25         -0.24     -0.39   
2018-06-19  63.80  64.20  62.05  61.80  1278263.62         -2.58     -3.99   
2018-06-15  64.10  65.16  64.67  64.02   666582.75          0.23      0.36   
2018-06-14  63.58  65.35  64.42  63.45   798484.69          0.67      1.05   
2018-06-13  63.80  63.91  63.78  63.35   459053.25         -0.12     -0.19   
2018-06-12  63.20  64.25  63.89  62.82   763559.25          0.86      1.36   
2018-06-11  62.25  63.20  63.01  61.85   512803.12          0.62      0.99   
2018-06-08  62.97  63.24  62.39  61.95   579391.38         -0.85     -1.34   
2018-06-07  63.27  64.54  63.22  63.02   746266.81          0.61      0.97   
2018-06-06  64.43  64.45  63.81  63.71   490220.28         -0.77     -1.19   
2018-06-05  63.59  65.00  64.58  63.21   885172.56          1.05      1.65   
2018-06-04  62.10  63.71  63.54  61.90   858897.38          1.90      3.08   
2018-06-01  61.91  62.19  61.64  61.28   408007.62         -0.49     -0.79   
2018-05-31  61.11  62.18  62.17  60.71   665388.31          1.52      2.51   
2018-05-30  61.31  61.70  60.60  60.58   490836.62         -1.78     -2.85   
2018-05-29  62.32  62.66  62.37  61.30   636474.44         -0.13     -0.21   
2018-05-28  61.80  62.88  62.49  61.55   458948.75          0.96      1.56   
2018-05-25  61.38  62.18  61.56  61.34   353929.69          0.34      0.56   
...           ...    ...    ...    ...         ...           ...       ...   
2018-02-12  64.66  65.65  64.94  64.00  1029611.75          0.51      0.79   
2018-02-09  66.50  66.97  64.45  62.20  2492029.75         -4.54     -6.58   
2018-02-08  70.61  71.50  68.97  68.37  1530108.88         -2.41     -3.38   
2018-02-07  74.60  74.65  71.32  70.50  1747840.88         -2.45     -3.32   
2018-02-06  73.85  74.70  73.74  72.50  2049666.88         -1.97     -2.60   
2018-02-05  74.40  75.95  75.69  74.30   948054.44         -0.32     -0.42   
2018-02-02  74.87  76.38  76.02  74.13  1007583.38          0.54      0.71   
2018-02-01  75.00  75.60  75.50  74.05  1415762.88          0.42      0.56   
2018-01-31  72.65  75.15  75.08  72.52   934726.31          1.70      2.32   
2018-01-30  72.90  74.36  73.35  72.80   867816.94         -0.01     -0.01   
2018-01-29  76.66  76.70  73.37  72.89  1517843.50         -2.73     -3.59   
2018-01-26  75.30  76.85  76.12  75.21  1125546.50          0.83      1.10   
2018-01-25  75.93  75.99  75.25  74.80  1234396.50         -1.19     -1.56   
2018-01-24  79.00  79.44  76.50  76.38  1689141.00         -2.26     -2.87   
2018-01-23  80.30  81.28  78.82  78.29  1919898.38          0.08      0.10   
2018-01-22  77.11  79.20  78.80  77.05  1215882.88          1.21      1.56   
2018-01-19  78.30  79.06  77.60  76.89  1553809.12         -0.01     -0.01   
2018-01-18  78.56  80.11  77.74  77.08  2074471.38          0.40      0.52   
2018-01-17  78.10  79.35  77.37  76.50  1413574.12         -0.44     -0.56   
2018-01-16  77.68  79.48  77.85  77.20  1501643.12          0.20      0.26   
2018-01-15  75.35  78.50  77.68  75.35  2006598.62          3.27      4.39   
2018-01-12  72.66  74.50  74.42  72.33  1282663.00          1.77      2.44   
2018-01-11  71.05  73.12  72.67  71.00  1096289.00          0.95      1.32   
2018-01-10  71.60  71.87  71.74  70.71   828123.00         -0.13     -0.18   
2018-01-09  70.30  72.08  71.86  70.03  1239491.12          1.85      2.64   
2018-01-08  70.79  70.79  69.98  69.32  1228729.50         -0.91     -1.28   
2018-01-05  71.59  71.88  70.86  70.45   772075.81         -0.32     -0.45   
2018-01-04  71.02  72.20  71.19  70.55  1061157.88          0.22      0.31   
2018-01-03  73.40  73.90  71.00  70.11  1794054.88         -1.59     -2.19   
2018-01-02  70.21  72.80  72.62  70.18  1236163.12          2.64      3.77   

               ma5    ma10    ma20       v_ma5      v_ma10      v_ma20  
date                                                                    
2018-07-06  55.902  57.142  59.983   748319.08   714520.72   700870.54  
2018-07-05  56.228  57.554  60.297   712479.25   678627.24   696968.32  
2018-07-04  56.484  58.114  60.712   749990.64   684333.20   694057.62  
2018-07-03  56.872  58.744  61.163   785508.72   706703.36   712341.56  
2018-07-02  57.452  59.318  61.525   739260.85   739613.02   707828.08  
2018-06-29  58.382  60.266  61.847   680722.36   716252.37   683219.00  
2018-06-28  58.880  60.851  62.027   644775.22   731589.64   684232.82  
2018-06-27  59.744  61.549  62.217   618675.76   703895.84   671975.09  
2018-06-26  60.616  62.189  62.461   627897.99   710543.35   668944.60  
2018-06-25  61.184  62.569  62.625   739965.19   690030.90   655995.66  
2018-06-22  62.150  62.824  62.711   751782.39   687220.36   643317.30  
2018-06-21  62.822  63.040  62.721   818404.05   715309.41   642124.15  
2018-06-20  63.354  63.309  62.753   789115.91   703782.04   640307.18  
2018-06-19  63.762  63.582  62.811   793188.71   717979.77   625032.02  
2018-06-15  63.954  63.731  62.891   640096.61   676043.15   596372.12  
2018-06-14  63.498  63.428  62.810   622658.34   650185.63   591355.65  
2018-06-13  63.258  63.203  62.687   612214.76   636876.00   575320.53  
2018-06-12  63.264  62.885  62.637   618448.17   640054.33   580343.58  
2018-06-11  63.402  62.733  62.643   642770.83   627345.85   568642.08  
2018-06-08  63.508  62.681  62.698   711989.68   621960.42   577187.38  
2018-06-07  63.358  62.598  62.733   677712.93   599414.25   570823.09  
2018-06-06  63.148  62.401  62.731   661537.23   568938.89   558418.66  
2018-06-05  62.506  62.197  62.689   661660.50   576832.32   558129.20  
2018-06-04  62.064  62.039  62.614   611920.87   532084.27   572606.60  
2018-06-01  61.854  62.051  62.496   531931.15   516701.10   571134.12  
2018-05-31  61.838  62.191  62.449   521115.56   532525.67   572813.08  
2018-05-30  61.654  62.171  62.410   476340.56   513765.06   570999.93  
2018-05-29  61.888  62.389  62.449   492004.13   520632.83   581903.53  
2018-05-28  62.014  62.553  62.375   452247.67   509938.31   680222.93  
2018-05-25  62.248  62.714  62.408   501471.06   532414.35   699353.18  
...            ...     ...     ...         ...         ...         ...  
2018-02-12  68.684  71.906  74.424  1769851.63  1402320.21  1463470.43  
2018-02-09  70.834  72.749  75.061  1753540.17  1451143.38  1512319.77  
2018-02-08  73.148  73.916  75.560  1456650.89  1314495.06  1451851.44  
2018-02-07  74.454  74.544  75.745  1433781.69  1284923.82  1430160.44  
2018-02-06  75.206  75.062  75.766  1271158.78  1279053.83  1384174.55  
2018-02-05  75.128  75.570  75.672  1034788.79  1266076.98  1343665.76  
2018-02-02  74.664  75.881  75.386  1148746.60  1292859.83  1357699.51  
2018-02-01  74.684  76.039  75.128  1172339.23  1347482.40  1345924.13  
2018-01-31  74.634  76.263  74.913  1136065.95  1413353.25  1328193.88  
2018-01-30  74.918  76.492  74.709  1286948.89  1461238.03  1371160.31  
2018-01-29  76.012  76.942  74.672  1497365.18  1524620.65  1389577.62  
2018-01-26  77.098  77.373  74.503  1436973.05  1573496.16  1365686.35  
2018-01-25  77.394  77.203  74.222  1522625.58  1589207.81  1365953.34  
2018-01-24  77.892  76.945  73.978  1690640.55  1575397.06  1379575.24  
2018-01-23  78.066  76.469  73.849  1635527.18  1489295.26  1336732.67  
2018-01-22  77.872  75.773  73.617  1551876.12  1421254.54  1296236.70  
2018-01-19  77.648  74.891  73.381  1710019.27  1422539.20  1271418.88  
2018-01-18  77.012  74.217  73.244  1655790.05  1344365.87  1240463.81  
2018-01-17  75.998  73.562  73.055  1460153.57  1243034.52  1183709.38  
2018-01-16  74.872  72.925  72.867  1343063.35  1281082.59  1176559.83  
2018-01-15  73.674  72.402  72.508  1290632.95  1254534.59  1135433.52  
2018-01-12  72.134  71.633  72.142  1135059.12  1157876.53  1071880.95  
2018-01-11  71.422  71.241  71.973  1032941.69  1142698.87  1041557.15  
2018-01-10  71.126  71.010  71.946  1025915.46  1183753.42  1029998.59  
2018-01-09  70.978  71.229  71.918  1219101.84  1184170.07  1027487.48  
2018-01-08  71.130  71.461  71.989  1218436.24  1171218.86  1022509.29  
2018-01-05  71.132  71.870  72.065  1180693.94  1120298.56  1015854.43  
2018-01-04  71.060  72.271  71.954  1252456.05  1136561.75  1020235.82  
2018-01-03  70.894  72.547  71.865  1341591.38  1124384.25  1029458.30  
2018-01-02  71.480  72.808  71.875  1149238.30  1072037.06  1024382.53  

[124 rows x 13 columns]